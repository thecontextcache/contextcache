"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[917],{5110:function(e,t,n){n.d(t,{ToastProvider:function(){return a},p:function(){return l}});var r=n(7437),o=n(2265);let i=(0,o.createContext)({addToast:()=>{}}),s=0;function a(e){let{children:t}=e,[n,a]=(0,o.useState)([]),l=(0,o.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4e3,r=++s;a(n=>[...n,{id:r,message:e,variant:t,leaving:!1}]),setTimeout(()=>{a(e=>e.map(e=>e.id===r?{...e,leaving:!0}:e)),setTimeout(()=>{a(e=>e.filter(e=>e.id!==r))},300)},n)},[]),c=(0,o.useCallback)(e=>{a(t=>t.map(t=>t.id===e?{...t,leaving:!0}:t)),setTimeout(()=>{a(t=>t.filter(t=>t.id!==e))},300)},[]);return(0,r.jsxs)(i.Provider,{value:{addToast:l},children:[t,n.length>0&&(0,r.jsx)("div",{className:"toast-stack",role:"region","aria-label":"Notifications","aria-live":"polite",children:n.map(e=>(0,r.jsxs)("div",{className:"toast toast-".concat(e.variant).concat(e.leaving?" toast-leave":""),role:"alert",children:[(0,r.jsx)("span",{className:"toast-icon",children:u[e.variant]}),(0,r.jsx)("span",{className:"toast-msg",children:e.message}),(0,r.jsx)("button",{className:"toast-close",onClick:()=>c(e.id),"aria-label":"Dismiss",children:"\xd7"})]},e.id))})]})}function l(){let{addToast:e}=(0,o.useContext)(i);return{success:(t,n)=>e(t,"success",n),error:(t,n)=>e(t,"error",null!=n?n:6e3),info:(t,n)=>e(t,"info",n),warn:(t,n)=>e(t,"warn",n)}}let u={success:"✓",error:"✕",info:"ℹ",warn:"⚠"}},3113:function(e,t,n){n.d(t,{B3:function(){return o},EN:function(){return s},MS:function(){return a},Rt:function(){return u},SC:function(){return l}});var r=n(257);function o(){return"/api"}let i="thecontextcache.com";function s(){if(r.env.NEXT_PUBLIC_DOCS_URL)return r.env.NEXT_PUBLIC_DOCS_URL.replace(/\/$/,"");{let{protocol:e,hostname:t}=window.location;if("https:"===e&&(t===i||t.endsWith(".".concat(i))))return"https://docs.".concat(i)}return"/docs"}class a extends Error{constructor(e,t,n){super(e),this.status=t,this.kind=n}}async function l(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=o(),i="/api"===r?[r]:[r,"/api"],s=e.startsWith("/auth/")||"/health"===e||"/me/orgs"===e?"":(window.localStorage.getItem("CONTEXTCACHE_ORG_ID")||"").trim(),l=0,u={...n},c=u.headers||{};for(let n of(delete u.headers,i))try{t=await fetch("".concat(n).concat(e),{...u,credentials:"include",headers:{"Content-Type":"application/json",...s?{"X-Org-Id":s}:{},...c}});break}catch(e){if((l+=1)>=i.length)throw new a("Cannot reach the backend. Check your network or server status.",0,"network")}if(!t)throw new a("Cannot reach the backend. Check your network or server status.",0,"network");let f=await t.json().catch(()=>({}));if(!t.ok){let e=f.detail||"Request failed";if(401===t.status)throw new a(e,401,"auth");if(403===t.status)throw new a(e,403,"forbidden");if(429===t.status)throw new a("Too many requests — please wait a moment and try again.",429,"rate_limit");if(t.status>=500)throw new a("Server error. Please try again shortly.",t.status,"server");throw new a(e,t.status,"client")}return f}async function u(e){let t=o();for(let n of"/api"===t?[t]:[t,"/api"])try{if((await fetch("".concat(n,"/health"),{credentials:"include",signal:null!=e?e:function(e){if("undefined"!=typeof AbortSignal&&"function"==typeof AbortSignal.timeout)return AbortSignal.timeout(5e3);let t=new AbortController;return setTimeout(()=>t.abort(),5e3),t.signal}(0)})).ok)return!0}catch(e){}return!1}},9376:function(e,t,n){var r=n(5475);n.o(r,"usePathname")&&n.d(t,{usePathname:function(){return r.usePathname}}),n.o(r,"useRouter")&&n.d(t,{useRouter:function(){return r.useRouter}})},7586:function(e,t,n){n.d(t,{M:function(){return C}});var r=n(7437),o=n(2265),i=n(8881),s=n(3576),a=n(1534),l=n(4252),u=n(3537),c=n(5750);function f(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class h extends o.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent&&!1!==this.props.pop){let e=t.offsetParent,n=(0,u.R)(e)&&e.offsetWidth||0,r=(0,u.R)(e)&&e.offsetHeight||0,o=this.props.sizeRef.current;o.height=t.offsetHeight||0,o.width=t.offsetWidth||0,o.top=t.offsetTop,o.left=t.offsetLeft,o.right=n-o.width-o.left,o.bottom=r-o.height-o.top}return null}componentDidUpdate(){}render(){return this.props.children}}function d(e){var t,n;let{children:i,isPresent:s,anchorX:a,anchorY:l,root:u,pop:d}=e,p=(0,o.useId)(),m=(0,o.useRef)(null),g=(0,o.useRef)({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:w}=(0,o.useContext)(c._),v=function(...e){return o.useCallback(function(...e){return t=>{let n=!1,r=e.map(e=>{let r=f(e,t);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let t=0;t<r.length;t++){let n=r[t];"function"==typeof n?n():f(e[t],null)}}}}(...e),e)}(m,null!==(n=null===(t=i.props)||void 0===t?void 0:t.ref)&&void 0!==n?n:null==i?void 0:i.ref);return(0,o.useInsertionEffect)(()=>{let{width:e,height:t,top:n,left:r,right:o,bottom:i}=g.current;if(s||!1===d||!m.current||!e||!t)return;m.current.dataset.motionPopId=p;let c=document.createElement("style");w&&(c.nonce=w);let f=null!=u?u:document.head;return f.appendChild(c),c.sheet&&c.sheet.insertRule('\n          [data-motion-pop-id="'.concat(p,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat("left"===a?"left: ".concat(r):"right: ".concat(o),"px !important;\n            ").concat("bottom"===l?"bottom: ".concat(i):"top: ".concat(n),"px !important;\n          }\n        ")),()=>{f.contains(c)&&f.removeChild(c)}},[s]),(0,r.jsx)(h,{isPresent:s,childRef:m,sizeRef:g,pop:d,children:!1===d?i:o.cloneElement(i,{ref:v})})}let p=e=>{let{children:t,initial:n,isPresent:i,onExitComplete:a,custom:u,presenceAffectsLayout:c,mode:f,anchorX:h,anchorY:p,root:g}=e,w=(0,s.h)(m),v=(0,o.useId)(),C=!0,x=(0,o.useMemo)(()=>(C=!1,{id:v,initial:n,isPresent:i,custom:u,onExitComplete:e=>{for(let t of(w.set(e,!0),w.values()))if(!t)return;a&&a()},register:e=>(w.set(e,!1),()=>w.delete(e))}),[i,w,a]);return c&&C&&(x={...x}),(0,o.useMemo)(()=>{w.forEach((e,t)=>w.set(t,!1))},[i]),o.useEffect(()=>{i||w.size||!a||a()},[i]),t=(0,r.jsx)(d,{pop:"popLayout"===f,isPresent:i,anchorX:h,anchorY:p,root:g,children:t}),(0,r.jsx)(l.O.Provider,{value:x,children:t})};function m(){return new Map}var g=n(9637);let w=e=>e.key||"";function v(e){let t=[];return o.Children.forEach(e,e=>{(0,o.isValidElement)(e)&&t.push(e)}),t}let C=e=>{let{children:t,custom:n,initial:l=!0,onExitComplete:u,presenceAffectsLayout:c=!0,mode:f="sync",propagate:h=!1,anchorX:d="left",anchorY:m="top",root:C}=e,[x,b]=(0,g.oO)(h),k=(0,o.useMemo)(()=>v(t),[t]),y=h&&!x?[]:k.map(w),R=(0,o.useRef)(!0),E=(0,o.useRef)(k),P=(0,s.h)(()=>new Map),j=(0,o.useRef)(new Set),[S,_]=(0,o.useState)(k),[T,N]=(0,o.useState)(k);(0,a.L)(()=>{R.current=!1,E.current=k;for(let e=0;e<T.length;e++){let t=w(T[e]);y.includes(t)?(P.delete(t),j.current.delete(t)):!0!==P.get(t)&&P.set(t,!1)}},[T,y.length,y.join("-")]);let I=[];if(k!==S){let e=[...k];for(let t=0;t<T.length;t++){let n=T[t],r=w(n);y.includes(r)||(e.splice(t,0,n),I.push(n))}return"wait"===f&&I.length&&(e=I),N(v(e)),_(k),null}let{forceRender:L}=(0,o.useContext)(i.p);return(0,r.jsx)(r.Fragment,{children:T.map(e=>{let t=w(e),o=(!h||!!x)&&(k===T||y.includes(t));return(0,r.jsx)(p,{isPresent:o,initial:(!R.current||!!l)&&void 0,custom:n,presenceAffectsLayout:c,mode:f,root:C,onExitComplete:o?void 0:()=>{if(j.current.has(t)||(j.current.add(t),!P.has(t)))return;P.set(t,!0);let e=!0;P.forEach(t=>{t||(e=!1)}),e&&(null==L||L(),N(E.current),h&&(null==b||b()),u&&u())},anchorX:d,anchorY:m,children:e},t)})})}}}]);