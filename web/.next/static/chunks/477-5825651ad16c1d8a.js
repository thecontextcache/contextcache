"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[477],{7477:function(e,t,r){r.d(t,{Z:function(){return s}});var a=r(7437),l=r(2265);let o={decision:"#00D4FF",finding:"#A78BFA",definition:"#00E5A0",note:"#FFB800",link:"#FF6B6B",todo:"#F472B6",chat:"#38BDF8",doc:"#6EE7B7",code:"#FCD34D"};function i(e,t){let[r,a,l]=function(e){let t=parseInt(e.replace("#",""),16);return[t>>16&255,t>>8&255,255&t]}(e);return"rgba(".concat(r,",").concat(a,",").concat(l,",").concat(t,")")}function n(e,t,r){return Array.from({length:e},()=>({x:Math.random()*t,y:Math.random()*r,r:1.2*Math.random()+.3,a:.25*Math.random()+.05,vx:(Math.random()-.5)*.05,vy:(Math.random()-.5)*.05}))}function s(e){let{projects:t=[],memoriesByProject:r={},highlightIds:s=[],onNodeClick:h,filterTypes:u=null,pauseAnimation:f=!1}=e,y=(0,l.useRef)(null),m=(0,l.useRef)(null),p=(0,l.useRef)({nodes:[],edges:[],synapses:[],stars:[],w:800,h:500}),g=(0,l.useRef)(null),x=(0,l.useRef)(new Set(s)),b=(0,l.useRef)(!1),M=(0,l.useRef)(f),k=(0,l.useRef)(u),S=(0,l.useRef)(0);return((0,l.useEffect)(()=>{M.current=f},[f]),(0,l.useEffect)(()=>{k.current=u},[u]),(0,l.useEffect)(()=>{x.current=new Set(s.map(String)),p.current.nodes.forEach(e=>{"memory"===e.kind&&x.current.has(String(e.rawId))&&(e.hitPulse=1)})},[s]),(0,l.useEffect)(()=>{if(!t.length)return;let{w:e,h:a}=p.current,l=e||800,i=a||500,{nodes:s,edges:c,synapses:d}=function(e,t,r,a){let l=[],i=[],n=Math.max(2,Math.floor(150/Math.max(1,e.length))),s=r/2,c=a/2,d=.25*Math.min(r,a);e.forEach((r,a)=>{let h=a/e.length*Math.PI*2-Math.PI/2,u=s+Math.cos(h)*d,f=c+Math.sin(h)*d;l.push({id:"proj-".concat(r.id),kind:"project",label:r.name,rawId:r.id,baseX:u,baseY:f,x:u,y:f,radius:18,color:"#00D4FF",pulse:Math.random()*Math.PI*2,hitPulse:0,created:r.created_at}),(t[r.id]||[]).slice(0,n).forEach((e,t)=>{var a;let n=137.5*t*(Math.PI/180),s=35+12*Math.sqrt(t),c=u+Math.cos(n)*s,d=f+Math.sin(n)*s;l.push({id:"mem-".concat(e.id),kind:"memory",label:e.title||(null===(a=e.content)||void 0===a?void 0:a.slice(0,35))||e.type,rawId:e.id,projId:"proj-".concat(r.id),type:e.type,baseX:c,baseY:d,x:c,y:d,radius:6,color:o[e.type]||"#4A6685",pulse:Math.random()*Math.PI*2,hitPulse:0,created:e.created_at}),i.push({from:"proj-".concat(r.id),to:"mem-".concat(e.id),length:s})})});let h=i.map(e=>({from:e.from,to:e.to,progress:Math.random(),speed:.002+.005*Math.random(),active:Math.random()>.5}));return{nodes:l,edges:i,synapses:h}}(t,r,l,i);s.forEach(e=>{e.baseX=Math.max(e.radius+5,Math.min(l-e.radius-5,e.baseX)),e.baseY=Math.max(e.radius+5,Math.min(i-e.radius-5,e.baseY)),e.x=e.baseX,e.y=e.baseY}),p.current.nodes=s,p.current.edges=c,p.current.synapses=d,p.current.stars=n(50,l,i)},[t,r]),(0,l.useEffect)(()=>{var e,t,r;let a=y.current;if(!a)return;b.current=null!==(r=null===(e=(t=window).matchMedia)||void 0===e?void 0:e.call(t,"(prefers-reduced-motion: reduce)").matches)&&void 0!==r&&r;let l=window.devicePixelRatio||1,o=()=>{let e=a.getBoundingClientRect();0!==e.width&&0!==e.height&&(a.width=e.width*l,a.height=e.height*l,a.getContext("2d").setTransform(l,0,0,l,0,0),p.current.w=e.width,p.current.h=e.height,p.current.stars=n(50,e.width,e.height))};o();let s=new ResizeObserver(o);s.observe(a);let c=a.getContext("2d");return m.current=requestAnimationFrame(function e(){(function(){S.current+=.016;let e=S.current,{nodes:t,edges:r,synapses:a,stars:l,w:o,h:n}=p.current,s=M.current||b.current,h=k.current;if(!s&&t.length){for(let r of t)r.x=r.baseX+4*Math.sin(.5*e+r.pulse),r.y=r.baseY+4*Math.cos(.4*e+r.pulse),r.hitPulse>0&&(r.hitPulse=Math.max(0,r.hitPulse-.008));for(let e of a)e.active?(e.progress+=e.speed,e.progress>=1&&(e.progress=0,e.active=Math.random()>.4)):.005>Math.random()&&(e.active=!0);for(let e of l)e.x=(e.x+e.vx+o)%o,e.y=(e.y+e.vy+n)%n}s&&(S.current-=.014),c.clearRect(0,0,o,n),c.fillStyle="#060C18",c.fillRect(0,0,o,n);{let e=c.createRadialGradient(o/2,n/2,0,o/2,n/2,.5*Math.min(o,n));e.addColorStop(0,"rgba(0,212,255,0.04)"),e.addColorStop(1,"rgba(0,212,255,0)"),c.fillStyle=e,c.fillRect(0,0,o,n)}for(let e of l)c.beginPath(),c.arc(e.x,e.y,e.r,0,2*Math.PI),c.fillStyle="rgba(148,173,200,".concat(e.a,")"),c.fill();if(!t.length)return;let u={};for(let e of t)u[e.id]=e;let f=g.current,y=x.current;for(let e of(c.lineWidth=1,r)){let t=u[e.from],r=u[e.to];if(!t||!r)continue;if(null!==h&&"memory"===r.kind&&!h.has(r.type)){c.strokeStyle="rgba(0,212,255,0.04)",c.lineWidth=.5,c.beginPath(),c.moveTo(t.x,t.y),c.lineTo(r.x,r.y),c.stroke();continue}let a=t.id===f||y.has(String(t.rawId)),l=r.id===f||y.has(String(r.rawId));if(a||l||t.id===f||r.id===f){let e=c.createLinearGradient(t.x,t.y,r.x,r.y);e.addColorStop(0,i(t.color,.55)),e.addColorStop(1,i(r.color,.55)),c.strokeStyle=e,c.lineWidth=1.5}else c.strokeStyle="rgba(0,212,255,0.09)",c.lineWidth=1;c.beginPath(),c.moveTo(t.x,t.y),c.lineTo(r.x,r.y),c.stroke()}for(let e of a){if(!e.active)continue;let t=u[e.from],r=u[e.to];if(!t||!r||null!==h&&"memory"===r.kind&&!h.has(r.type))continue;let a=t.x+(r.x-t.x)*e.progress,l=t.y+(r.y-t.y)*e.progress;c.beginPath(),c.arc(a,l,2,0,2*Math.PI),c.fillStyle=i(r.color,.8*(1-2*Math.abs(e.progress-.5))),c.fill();let o=c.createRadialGradient(a,l,0,a,l,6);o.addColorStop(0,i(r.color,.8)),o.addColorStop(1,i(r.color,0)),c.fillStyle=o,c.beginPath(),c.arc(a,l,6,0,2*Math.PI),c.fill()}for(let r of t){let t=r.id===f,a=y.has(String(r.rawId)),l=null!==h&&"memory"===r.kind&&!h.has(r.type),o=l?.12:1,n="project"===r.kind?.12*Math.sin(1.4*e+r.pulse):0,s=r.radius+(t&&!l?3:0)+n,d=r.hitPulse;if(d>.01){let e=s+d*s*2.5;c.beginPath(),c.arc(r.x,r.y,e,0,2*Math.PI),c.strokeStyle=i(r.color,.6*d),c.lineWidth=1.5,c.stroke()}if(!l&&(a||t||d>.05)){let e=s+18+10*d,t=c.createRadialGradient(r.x,r.y,.4*s,r.x,r.y,e);t.addColorStop(0,i(r.color,(a?.35:.22)+.2*d)),t.addColorStop(1,i(r.color,0)),c.fillStyle=t,c.beginPath(),c.arc(r.x,r.y,e,0,2*Math.PI),c.fill()}let u=(a||t?1:.85)*o,m=c.createRadialGradient(r.x-.3*s,r.y-.3*s,0,r.x,r.y,1.3*s);if(m.addColorStop(0,i(r.color,u)),m.addColorStop(1,i(r.color,.55*u)),c.beginPath(),c.arc(r.x,r.y,s,0,2*Math.PI),c.fillStyle=m,c.fill(),"project"===r.kind&&(c.strokeStyle=i(r.color,.45+.15*Math.sin(1.4*e+r.pulse)),c.lineWidth=1.5,c.stroke()),(!l||t)&&("project"===r.kind||t||a)){let e=r.label.length>24?r.label.slice(0,23)+"…":r.label,t=r.y+s+14;c.font="project"===r.kind?'bold 11px "Space Grotesk", system-ui, sans-serif':'10px "Space Grotesk", system-ui, sans-serif',c.shadowColor="project"===r.kind?i(r.color,.6):"transparent",c.shadowBlur="project"===r.kind?8:0,c.fillStyle="project"===r.kind?"rgba(226,238,249,0.8)":"rgba(100,140,180,0.7)",c.textAlign="center",c.fillText(e,r.x,t),c.shadowBlur=0}}c.textAlign="left",c.lineWidth=1,f&&u[f]&&function(e,t,r,a){let l=[];if(l.push(t.label.length>36?t.label.slice(0,35)+"…":t.label),"memory"===t.kind&&t.type?l.push("type: ".concat(t.type)):"project"===t.kind&&l.push("project hub"),t.created)try{l.push(new Date(t.created).toLocaleDateString())}catch(e){}let o="11px 'Space Grotesk', system-ui, sans-serif";e.font=o;let n=Math.min(Math.max(...l.map(t=>e.measureText(t).width))+20,220),s=17*l.length+14,c=t.x+t.radius+10,h=t.y-s/2;c+n>r-6&&(c=t.x-t.radius-n-10),h=Math.max(4,Math.min(h,a-s-4)),e.shadowBlur=16,e.shadowColor=i(t.color,.3),e.fillStyle="rgba(10,20,36,0.92)",d(e,c,h,n,s,8),e.fill(),e.shadowBlur=0,e.strokeStyle=i(t.color,.4),e.lineWidth=1,d(e,c,h,n,s,8),e.stroke(),e.fillStyle="rgba(226,238,249,0.9)",e.font=o,l.forEach((t,r)=>{0===r?e.fillStyle="rgba(226,238,249,0.95)":e.fillStyle="rgba(100,140,180,0.75)",e.fillText(t,c+10,h+10+17*r+12.75)})}(c,u[f],o,n)})(),m.current=requestAnimationFrame(e)}),()=>{cancelAnimationFrame(m.current),s.disconnect()}},[]),(0,l.useEffect)(()=>{let e=y.current;if(!e)return;let t=t=>{let r=e.getBoundingClientRect(),a=t.clientX-r.left,l=t.clientY-r.top;for(let e of p.current.nodes){let t=a-e.x,r=l-e.y;if(t*t+r*r<=(e.radius+6)*(e.radius+6))return e}return null},r=r=>{let a=t(r);g.current=a?a.id:null,e.style.cursor=a?"pointer":"default"},a=e=>{let r=t(e);r&&h&&h(r)};return e.addEventListener("mousemove",r,{passive:!0}),e.addEventListener("click",a),()=>{e.removeEventListener("mousemove",r),e.removeEventListener("click",a)}},[h]),t.length)?(0,a.jsx)("canvas",{ref:y,style:{width:"100%",height:"100%",display:"block",borderRadius:"inherit"},"aria-label":"Memory neural graph — interactive visualization of your projects and memory cards",role:"img"}):(0,a.jsx)(c,{})}function c(){return(0,a.jsxs)("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:16,background:"#060C18"},children:[(0,a.jsxs)("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none","aria-hidden":"true",children:[(0,a.jsx)("circle",{cx:"32",cy:"32",r:"30",stroke:"rgba(0,212,255,0.15)",strokeWidth:"1.5",strokeDasharray:"5 4"}),(0,a.jsx)("circle",{cx:"32",cy:"32",r:"18",stroke:"rgba(0,212,255,0.08)",strokeWidth:"1"}),(0,a.jsx)("circle",{cx:"32",cy:"32",r:"5",fill:"rgba(0,212,255,0.25)"}),[0,60,120,180,240,300].map(e=>{let t=e*Math.PI/180,r=32+24*Math.cos(t),l=32+24*Math.sin(t);return(0,a.jsxs)("g",{children:[(0,a.jsx)("line",{x1:"32",y1:"32",x2:r,y2:l,stroke:"rgba(0,212,255,0.12)",strokeWidth:"1"}),(0,a.jsx)("circle",{cx:r,cy:l,r:"3",fill:"rgba(0,212,255,0.2)"})]},e)})]}),(0,a.jsxs)("p",{style:{color:"rgba(100,140,180,0.7)",fontSize:"0.875rem",textAlign:"center",margin:0},children:["Create a project and add memories",(0,a.jsx)("br",{}),"to see your Brain come alive."]})]})}function d(e,t,r,a,l,o){e.beginPath(),e.moveTo(t+o,r),e.lineTo(t+a-o,r),e.arcTo(t+a,r,t+a,r+o,o),e.lineTo(t+a,r+l-o),e.arcTo(t+a,r+l,t+a-o,r+l,o),e.lineTo(t+o,r+l),e.arcTo(t,r+l,t,r+l-o,o),e.lineTo(t,r+o),e.arcTo(t,r,t+o,r,o),e.closePath()}}}]);