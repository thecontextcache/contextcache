(()=>{var e={};e.id=235,e.ids=[235],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6647:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c}),a(6664),a(9889),a(2001),a(784),a(1888);var s=a(3191),n=a(8716),r=a(7922),i=a.n(r),l=a(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);a.d(t,o);let c=["",{children:["auth",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,6664)),"/Users/nd/Documents/contextcache/web/app/auth/page.js"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,9889)),"/Users/nd/Documents/contextcache/web/app/layout.js"],template:[()=>Promise.resolve().then(a.bind(a,2001)),"/Users/nd/Documents/contextcache/web/app/template.js"],error:[()=>Promise.resolve().then(a.bind(a,784)),"/Users/nd/Documents/contextcache/web/app/error.js"],"not-found":[()=>Promise.resolve().then(a.bind(a,1888)),"/Users/nd/Documents/contextcache/web/app/not-found.js"]}],d=["/Users/nd/Documents/contextcache/web/app/auth/page.js"],u="/auth/page",h={require:a,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/auth/page",pathname:"/auth",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},5499:(e,t,a)=>{Promise.resolve().then(a.bind(a,226))},226:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var s=a(326),n=a(7577),r=a(434),i=a(1207);function l(){let e=(0,n.useMemo)(()=>(0,i.B3)(),[]),[t,a]=(0,n.useState)(""),[l,o]=(0,n.useState)(!1),[c,d]=(0,n.useState)(!1),[u,h]=(0,n.useState)(""),[m,p]=(0,n.useState)(""),[x,g]=(0,n.useState)(""),[b,y]=(0,n.useState)(!1);async function f(a){if(a.preventDefault(),!l){p(""),g(""),h(""),o(!0);try{let a=await fetch(`${e}/auth/request-link`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.trim()})}),s=await a.json().catch(()=>({}));if(!a.ok){if(403===a.status){p("This is an invite-only alpha. Join the waitlist to request access."),g("forbidden");return}if(429===a.status){p("Too many requests. Wait a minute, then try again."),g("rate_limit");return}p(s.detail||"Could not send a sign-in link. Please try again.");return}d(!0),s.debug_link&&h(s.debug_link)}catch{p("Cannot reach the backend. Check that the API is running."),g("network")}finally{o(!1)}}}return c?(0,s.jsxs)("div",{className:"auth-wrap card",children:[(0,s.jsxs)("div",{className:"verify-state",children:[s.jsx("span",{style:{fontSize:"2.5rem"},children:"✉"}),s.jsx("h1",{children:"Check your email"}),(0,s.jsxs)("p",{className:"sub",children:["We sent a magic sign-in link to ",s.jsx("strong",{children:t}),".",s.jsx("br",{}),"Check your inbox (and spam folder)."]}),s.jsx("button",{className:"btn ghost sm",onClick:()=>{d(!1),h("")},children:"← Try a different address"})]}),u&&(0,s.jsxs)("div",{className:"debug-link-box",children:[s.jsx("p",{children:"⚠ Dev mode — email not sent"}),s.jsx("a",{href:u,className:"btn secondary sm",children:"Continue with debug link →"})]})]}):(0,s.jsxs)("div",{className:"auth-wrap card",children:[s.jsx("p",{className:"alpha-banner",style:{marginBottom:16,display:"inline-flex"},children:"Invite-only alpha"}),s.jsx("h1",{children:"Sign in"}),s.jsx("p",{className:"sub",children:"Enter your invited email and we'll send a magic sign-in link. No password needed."}),(0,s.jsxs)("form",{onSubmit:f,className:"stack",noValidate:!0,children:[(0,s.jsxs)("div",{className:"field",children:[s.jsx("label",{htmlFor:"email",children:"Email address"}),s.jsx("input",{id:"email",type:"email",required:!0,autoComplete:"email",autoFocus:!0,value:t,onChange:e=>a(e.target.value),placeholder:"you@company.com","aria-describedby":"email-hint",disabled:l}),s.jsx("span",{id:"email-hint",className:"field-hint",children:"Must match your invitation address."})]}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:10,padding:"6px 0"},children:[s.jsx("input",{id:"terms-accept",type:"checkbox",checked:b,onChange:e=>y(e.target.checked),style:{marginTop:3,flexShrink:0,width:"auto",cursor:"pointer",accentColor:"var(--brand)"}}),(0,s.jsxs)("label",{htmlFor:"terms-accept",style:{fontSize:"0.82rem",color:"var(--ink-2)",fontWeight:"normal",lineHeight:1.5,marginBottom:0,cursor:"pointer"},children:["I agree to the"," ",s.jsx(r.default,{href:"/legal",target:"_blank",rel:"noopener noreferrer",style:{color:"var(--brand)"},children:"Terms of Service & Privacy Policy"})," ","of thecontextcache™. I understand this is an invite-only alpha and data may change."]})]}),(0,s.jsxs)("button",{type:"submit",className:`btn primary${l?" loading":""}`,disabled:l||!t.trim()||!b,"aria-busy":l,children:[l&&s.jsx("span",{className:"spinner","aria-hidden":"true"}),l?"Sending…":"Send me a sign-in link"]})]}),m&&s.jsx("div",{className:`alert ${"forbidden"===x?"warn":"err"}`,role:"alert",style:{marginTop:12},children:(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:10},children:[(0,s.jsxs)("span",{children:["forbidden"===x&&s.jsx("span",{children:"\uD83D\uDD12 "}),"network"===x&&s.jsx("span",{children:"\uD83D\uDCE1 "}),"rate_limit"===x&&s.jsx("span",{children:"⏱ "}),m]}),"forbidden"===x&&s.jsx(r.default,{href:"/waitlist",className:"btn primary sm",style:{alignSelf:"flex-start"},children:"Join the waitlist →"})]})}),s.jsx("hr",{className:"divider",style:{margin:"20px 0"}}),(0,s.jsxs)("p",{className:"muted",style:{textAlign:"center"},children:["Access is invite-only."," ",s.jsx("a",{href:"mailto:support@thecontextcache.com",children:"Contact support"})," to request an invitation."]})]})}},6664:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(8570).createProxy)(String.raw`/Users/nd/Documents/contextcache/web/app/auth/page.js#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[276,15,240],()=>a(6647));module.exports=s})();