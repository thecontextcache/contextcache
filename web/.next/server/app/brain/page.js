(()=>{var e={};e.id=768,e.ids=[768],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},816:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.Z,__next_app__:()=>p,originalPathname:()=>d,pages:()=>c,routeModule:()=>m,tree:()=>a}),r(8739),r(9889),r(2001),r(784),r(1888);var n=r(3191),i=r(8716),o=r(7506),s=r(5231),l={};for(let e in s)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>s[e]);r.d(t,l);let a=["",{children:["brain",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,8739)),"/Users/nd/Documents/contextcache/web/app/brain/page.js"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,9889)),"/Users/nd/Documents/contextcache/web/app/layout.js"],template:[()=>Promise.resolve().then(r.bind(r,2001)),"/Users/nd/Documents/contextcache/web/app/template.js"],error:[()=>Promise.resolve().then(r.bind(r,784)),"/Users/nd/Documents/contextcache/web/app/error.js"],"not-found":[()=>Promise.resolve().then(r.bind(r,1888)),"/Users/nd/Documents/contextcache/web/app/not-found.js"]}],c=["/Users/nd/Documents/contextcache/web/app/brain/page.js"],d="/brain/page",p={require:r,loadChunk:()=>Promise.resolve()},m=new n.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/brain/page",pathname:"/brain",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:a}})},4459:(e,t,r)=>{Promise.resolve().then(r.bind(r,6574))},6574:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m,dynamic:()=>d});var n=r(326),i=r(7577),o=r(5047),s=r(434),l=r(1207),a=r(9776),c=r(6299);let d="force-dynamic",p={decision:"#00D4FF",finding:"#A78BFA",definition:"#00E5A0",note:"#FFB800",link:"#FF6B6B",todo:"#F472B6",chat:"#38BDF8",doc:"#6EE7B7",code:"#FCD34D"};function m(){let e=(0,o.useRouter)(),t=(0,a.p)();(0,i.useRef)(e),(0,i.useRef)(t);let[r,d]=(0,i.useState)(!0),[m,f]=(0,i.useState)([]),[b,y]=(0,i.useState)({}),[j,v]=(0,i.useState)(null),[S,k]=(0,i.useState)([]),[w,F]=(0,i.useState)(""),[D,C]=(0,i.useState)(!1),[z,B]=(0,i.useState)({projects:0,memories:0,edges:0}),[R,E]=(0,i.useState)(()=>!1),[P,A]=(0,i.useState)(null);async function I(e){if(e?.preventDefault(),w.trim()&&!D){C(!0),k([]);try{let e=Object.keys(b).filter(e=>(b[e]?.length??0)>0);if(!e.length){t.warn("No memories to search.");return}let r=await Promise.allSettled(e.slice(0,4).map(e=>(0,l.SC)(`/projects/${e}/recall?query=${encodeURIComponent(w)}&limit=10`))),n=[];r.forEach(e=>{"fulfilled"===e.status&&(e.value.items||[]).forEach(e=>n.push(String(e.id)))}),k(n),n.length?t.success(`${n.length} memor${1===n.length?"y":"ies"} highlighted.`):t.info("No matching memories found.")}catch(e){t.error(e.message||"Recall failed.")}finally{C(!1)}}}let N=(0,i.useCallback)(e=>v(e),[]),_=[...new Set(Object.values(b).flat().map(e=>e.type).filter(Boolean))];return(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"calc(100vh - 60px)",background:"#060C18",overflow:"hidden"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:14,flexWrap:"wrap",padding:"10px 18px",background:"rgba(13,27,46,0.95)",borderBottom:"1px solid rgba(0,212,255,0.1)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)",zIndex:2},children:[(0,n.jsxs)("div",{style:{userSelect:"none",flexShrink:0},children:[n.jsx("span",{style:{fontFamily:"var(--display, 'Orbitron', monospace)",fontSize:"0.95rem",fontWeight:700,letterSpacing:"0.14em",color:"#00D4FF",textShadow:"0 0 18px rgba(0,212,255,0.5)"},children:"BRAIN"}),(0,n.jsxs)("span",{style:{marginLeft:10,fontSize:"0.73rem",color:"rgba(100,140,180,0.6)",fontFamily:"var(--mono, monospace)"},children:[z.projects,"P \xb7 ",z.memories,"M \xb7 ",z.edges,"E"]})]}),(0,n.jsxs)("form",{onSubmit:I,style:{display:"flex",gap:6,flexGrow:1,maxWidth:400},children:[n.jsx("input",{value:w,onChange:e=>F(e.target.value),placeholder:"Search memories — matching nodes will glow…",style:{flexGrow:1,fontSize:"0.82rem",background:"rgba(6,12,24,0.7)",border:"1px solid rgba(0,212,255,0.18)",borderRadius:"var(--radius, 12px)",color:"rgba(226,238,249,0.9)",padding:"7px 12px",outline:"none"},disabled:D}),n.jsx("button",{type:"submit",className:"btn secondary sm",disabled:!w.trim()||D,style:{flexShrink:0},children:D?"…":"Search"}),S.length>0&&n.jsx("button",{type:"button",className:"btn ghost sm",onClick:()=>{k([]),F("")},style:{flexShrink:0},children:"Clear"})]}),S.length>0&&(0,n.jsxs)("span",{style:{padding:"3px 10px",borderRadius:999,background:"rgba(0,212,255,0.1)",border:"1px solid rgba(0,212,255,0.3)",color:"#00D4FF",fontSize:"0.75rem",fontFamily:"var(--mono, monospace)",letterSpacing:"0.04em",flexShrink:0},children:[S.length," lit"]}),n.jsx("button",{type:"button",className:"btn ghost sm",onClick:()=>E(e=>!e),title:R?"Resume animation":"Pause animation",style:{flexShrink:0,fontSize:"0.78rem",fontFamily:"var(--mono, monospace)"},children:R?"▶ Animate":"⏸ Pause"}),n.jsx(s.default,{href:"/app",className:"btn ghost sm",style:{marginLeft:"auto",flexShrink:0,fontSize:"0.78rem"},children:"← App"})]}),(0,n.jsxs)("div",{style:{display:"flex",flexGrow:1,overflow:"hidden",position:"relative"},children:[n.jsx("div",{style:{flexGrow:1,position:"relative",overflow:"hidden"},children:r?n.jsx(g,{}):0===m.length?n.jsx(h,{}):n.jsx(c.Z,{projects:m,memoriesByProject:b,highlightIds:S,onNodeClick:N,filterTypes:P,pauseAnimation:R})}),(0,n.jsxs)("aside",{style:{width:200,flexShrink:0,background:"rgba(10,20,36,0.92)",borderLeft:"1px solid rgba(0,212,255,0.09)",backdropFilter:"blur(16px)",WebkitBackdropFilter:"blur(16px)",padding:"16px 12px",overflowY:"auto",display:"flex",flexDirection:"column",gap:18,zIndex:1},children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:10},children:[n.jsx("p",{style:{fontSize:"0.65rem",letterSpacing:"0.1em",color:"rgba(100,140,180,0.55)",fontFamily:"var(--mono, monospace)",fontWeight:700,margin:0},children:"NODE TYPES"}),null!==P&&n.jsx("button",{onClick:function(){A(null)},style:{background:"none",border:"none",cursor:"pointer",fontSize:"0.62rem",color:"rgba(0,212,255,0.7)",fontFamily:"var(--mono, monospace)",padding:0},title:"Show all types",children:"reset"})]}),(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:5},children:[n.jsx(u,{color:"#00D4FF",label:"project hub",ring:!0,active:!0}),_.map(e=>{let t=null===P||P.has(e);return n.jsx(u,{color:p[e]||"#4A6685",label:e,active:t,onClick:()=>{A(t=>{if(null===t)return new Set([e]);let r=new Set(t);return r.has(e)?(r.delete(e),0===r.size?null:r):(r.add(e),r)})}},e)}),!_.length&&!r&&n.jsx("span",{style:{fontSize:"0.72rem",color:"rgba(100,140,180,0.45)"},children:"No memories yet"}),_.length>0&&n.jsx("p",{style:{fontSize:"0.62rem",color:"rgba(100,140,180,0.38)",margin:"4px 0 0",lineHeight:1.4},children:"Click a type to filter"})]})]}),(0,n.jsxs)("div",{children:[n.jsx("p",{style:{fontSize:"0.65rem",letterSpacing:"0.1em",color:"rgba(100,140,180,0.55)",fontFamily:"var(--mono, monospace)",fontWeight:700,marginBottom:8},children:"CONTROLS"}),(0,n.jsxs)("ul",{style:{fontSize:"0.72rem",color:"rgba(100,140,180,0.6)",lineHeight:1.9,paddingLeft:12,margin:0},children:[n.jsx("li",{children:"Hover — tooltip"}),n.jsx("li",{children:"Click — select node"}),n.jsx("li",{children:"Search — light up matches"}),n.jsx("li",{children:"Nodes drift & spring live"})]})]}),j&&n.jsx(x,{node:j,onDismiss:()=>v(null)})]})]})]})}function u({color:e,label:t,ring:r,active:i=!0,onClick:o}){return(0,n.jsxs)("div",{role:o?"button":void 0,tabIndex:o?0:void 0,onClick:o,onKeyDown:o?e=>"Enter"===e.key&&o():void 0,style:{display:"flex",alignItems:"center",gap:8,cursor:o?"pointer":"default",opacity:i?1:.38,transition:"opacity 0.2s",borderRadius:6,padding:"2px 4px",margin:"-2px -4px"},children:[n.jsx("div",{style:{width:r?14:10,height:r?14:10,borderRadius:"50%",background:r?`radial-gradient(circle, ${e}cc 0%, ${e}44 100%)`:e+"bb",border:r?`1.5px solid ${e}88`:"none",boxShadow:i?`0 0 6px ${e}44`:"none",flexShrink:0,transition:"box-shadow 0.2s"}}),n.jsx("span",{style:{fontSize:"0.73rem",color:i?"rgba(100,140,180,0.85)":"rgba(100,140,180,0.45)",fontFamily:"var(--mono, monospace)",transition:"color 0.2s",userSelect:"none"},children:t})]})}function x({node:e,onDismiss:t}){let r={decision:"#00D4FF",finding:"#A78BFA",definition:"#00E5A0",note:"#FFB800",link:"#FF6B6B",todo:"#F472B6",chat:"#38BDF8",doc:"#6EE7B7",code:"#FCD34D"}[e.type]||e.color||"#00D4FF";return(0,n.jsxs)("div",{children:[n.jsx("p",{style:{fontSize:"0.65rem",letterSpacing:"0.1em",color:"rgba(100,140,180,0.55)",fontFamily:"var(--mono, monospace)",fontWeight:700,marginBottom:8},children:"SELECTED"}),(0,n.jsxs)("div",{style:{background:"rgba(6,12,24,0.6)",border:`1px solid ${r}33`,borderRadius:10,padding:"10px 11px",fontSize:"0.78rem"},children:[(0,n.jsxs)("p",{style:{margin:"0 0 4px",fontWeight:600,color:r,lineHeight:1.4},children:["project"===e.kind?"\uD83D\uDCC1 ":"\uD83E\uDDE0 ",e.label.length>32?e.label.slice(0,31)+"…":e.label]}),(0,n.jsxs)("p",{style:{margin:"0 0 3px",fontSize:"0.7rem",color:"rgba(100,140,180,0.6)",fontFamily:"var(--mono, monospace)"},children:[e.kind," \xb7 #",e.rawId]}),e.type&&n.jsx("p",{style:{margin:0,fontSize:"0.7rem",color:r},children:e.type}),e.created&&n.jsx("p",{style:{margin:"4px 0 0",fontSize:"0.7rem",color:"rgba(100,140,180,0.45)"},children:new Date(e.created).toLocaleString()}),n.jsx("button",{className:"btn ghost sm",style:{marginTop:8,fontSize:"0.7rem",padding:"2px 8px"},onClick:t,children:"✕"})]})]})}function g(){return(0,n.jsxs)("div",{style:{position:"absolute",inset:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:14,background:"#060C18"},children:[n.jsx("div",{style:{width:44,height:44,border:"2px solid rgba(0,212,255,0.15)",borderTopColor:"#00D4FF",borderRadius:"50%",animation:"brain-spin 0.85s linear infinite"}}),n.jsx("span",{style:{color:"rgba(100,140,180,0.55)",fontSize:"0.82rem",fontFamily:"var(--mono, monospace)",letterSpacing:"0.06em"},children:"LOADING BRAIN"}),n.jsx("style",{children:"@keyframes brain-spin { to { transform: rotate(360deg); } }"})]})}function h(){return n.jsx("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",background:"#060C18",padding:24},children:(0,n.jsxs)("div",{style:{maxWidth:460,textAlign:"center",border:"1px solid rgba(0,212,255,0.2)",background:"rgba(12,22,40,0.8)",borderRadius:18,padding:"28px 24px",boxShadow:"0 16px 40px rgba(0,0,0,0.35)"},children:[n.jsx("div",{style:{fontSize:"2.1rem",marginBottom:8},children:"\uD83E\uDDE0"}),n.jsx("h2",{style:{margin:"0 0 6px",color:"#E2EEF9",fontSize:"1.2rem"},children:"Your graph is empty"}),n.jsx("p",{style:{margin:0,color:"rgba(148,173,200,0.9)",lineHeight:1.6},children:"Create a project and publish a few memories to light up your team brain."})]})})}},6299:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(326),i=r(7577);function o({projects:e=[],memoriesByProject:t={},highlightIds:r=[],onNodeClick:o,filterTypes:l=null,pauseAnimation:a=!1}){let c=(0,i.useRef)(null);return((0,i.useRef)(null),(0,i.useRef)({nodes:[],edges:[],synapses:[],stars:[],w:800,h:500}),(0,i.useRef)(null),(0,i.useRef)(new Set(r)),(0,i.useRef)(!1),(0,i.useRef)(a),(0,i.useRef)(l),(0,i.useRef)(0),e.length)?n.jsx("canvas",{ref:c,style:{width:"100%",height:"100%",display:"block",borderRadius:"inherit"},"aria-label":"Memory neural graph — interactive visualization of your projects and memory cards",role:"img"}):n.jsx(s,{})}function s(){return(0,n.jsxs)("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:16,background:"#060C18"},children:[(0,n.jsxs)("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none","aria-hidden":"true",children:[n.jsx("circle",{cx:"32",cy:"32",r:"30",stroke:"rgba(0,212,255,0.15)",strokeWidth:"1.5",strokeDasharray:"5 4"}),n.jsx("circle",{cx:"32",cy:"32",r:"18",stroke:"rgba(0,212,255,0.08)",strokeWidth:"1"}),n.jsx("circle",{cx:"32",cy:"32",r:"5",fill:"rgba(0,212,255,0.25)"}),[0,60,120,180,240,300].map(e=>{let t=e*Math.PI/180,r=32+24*Math.cos(t),i=32+24*Math.sin(t);return(0,n.jsxs)("g",{children:[n.jsx("line",{x1:"32",y1:"32",x2:r,y2:i,stroke:"rgba(0,212,255,0.12)",strokeWidth:"1"}),n.jsx("circle",{cx:r,cy:i,r:"3",fill:"rgba(0,212,255,0.2)"})]},e)})]}),(0,n.jsxs)("p",{style:{color:"rgba(100,140,180,0.7)",fontSize:"0.875rem",textAlign:"center",margin:0},children:["Create a project and add memories",n.jsx("br",{}),"to see your Brain come alive."]})]})}},8739:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o,dynamic:()=>i});var n=r(8570);let i=(0,n.createProxy)(String.raw`/Users/nd/Documents/contextcache/web/app/brain/page.js#dynamic`),o=(0,n.createProxy)(String.raw`/Users/nd/Documents/contextcache/web/app/brain/page.js#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[276,895,139],()=>r(816));module.exports=n})();